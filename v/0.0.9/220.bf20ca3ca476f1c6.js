"use strict";(self.webpackChunk_modelnow_proto=self.webpackChunk_modelnow_proto||[]).push([[220],{1220:(We,D,u)=>{u.r(D),u.d(D,{AppShopPage:()=>Ue});var b=u(1368),F=u(3364),U=u(5657),S=u(7368),R=u(3412),_=u(3616),W=u(4680),O=u(6684),L=u(1496),x=u(3992),C=u(792),q=u(2700),G=u(6144),T=u(1940),h=u(8548),N=u(8935);class M{constructor(){this.config={currency:{name:"dollar",plural:"dollars",symbol:"$",fractionalUnit:{name:"cent",plural:"cents",symbol:"\xa2"}},texts:{and:"and",minus:"minus",only:"only",point:"point"},numberWordsMapping:[{number:1e15,value:"quadrillion"},{number:1e12,value:"trillion"},{number:1e9,value:"billion"},{number:1e6,value:"million"},{number:1e3,value:"thousand"},{number:100,value:"hundred"},{number:90,value:"ninety"},{number:80,value:"eighty"},{number:70,value:"seventy"},{number:60,value:"sixty"},{number:50,value:"fifty"},{number:40,value:"forty"},{number:30,value:"thirty"},{number:20,value:"twenty"},{number:19,value:"nineteen"},{number:18,value:"eighteen"},{number:17,value:"seventeen"},{number:16,value:"sixteen"},{number:15,value:"fifteen"},{number:14,value:"fourteen"},{number:13,value:"thirteen"},{number:12,value:"twelve"},{number:11,value:"eleven"},{number:10,value:"ten"},{number:9,value:"nine"},{number:8,value:"eight"},{number:7,value:"seven"},{number:6,value:"six"},{number:5,value:"five"},{number:4,value:"four"},{number:3,value:"three"},{number:2,value:"two"},{number:1,value:"one"},{number:0,value:"zero"}],exactWordsMapping:[{number:100,value:"one hundred"}]}}}class z{constructor(){this.config={currency:{name:"euro",plural:"euros",symbol:"\u20ac",fractionalUnit:{name:"centime",plural:"centimes",symbol:"cts"}},texts:{and:"et",minus:"moins",only:"",point:"virgule"},numberWordsMapping:[{number:1e15,value:"billiard"},{number:1e12,value:"billion"},{number:1e9,value:"milliard"},{number:1e6,value:"million"},{number:1e3,value:"mille"},{number:100,value:"cent"},{number:99,value:"quatre-vingt-dix-neuf"},{number:98,value:"quatre-vingt-dix-huit"},{number:97,value:"quatre-vingt-dix-sept"},{number:96,value:"quatre-vingt-seize"},{number:95,value:"quatre-vingt-quinze"},{number:94,value:"quatre-vingt-quatorze"},{number:93,value:"quatre-vingt-treize"},{number:92,value:"quatre-vingt-douze"},{number:91,value:"quatre-vingt-onze"},{number:90,value:"quatre-vingt-dix"},{number:89,value:"quatre-vingt-neuf"},{number:88,value:"quatre-vingt-huit"},{number:87,value:"quatre-vingt-sept"},{number:86,value:"quatre-vingt-six"},{number:85,value:"quatre-vingt-cinq"},{number:84,value:"quatre-vingt-quatre"},{number:83,value:"quatre-vingt-trois"},{number:82,value:"quatre-vingt-deux"},{number:81,value:"quatre-vingt-un"},{number:80,value:"quatre-vingt"},{number:79,value:"soixante-dix-neuf"},{number:78,value:"soixante-dix-huit"},{number:77,value:"soixante-dix-sept"},{number:76,value:"soixante-seize"},{number:75,value:"soixante-quinze"},{number:74,value:"soixante-quatorze"},{number:73,value:"soixante-treize"},{number:72,value:"soixante-douze"},{number:71,value:"soixante et onze"},{number:70,value:"soixante-dix"},{number:69,value:"soixante-neuf"},{number:68,value:"soixante-huit"},{number:67,value:"soixante-sept"},{number:66,value:"soixante-six"},{number:65,value:"soixante-cinq"},{number:64,value:"soixante-quatre"},{number:63,value:"soixante-trois"},{number:62,value:"soixante-deux"},{number:61,value:"soixante et un"},{number:60,value:"soixante"},{number:59,value:"cinquante-neuf"},{number:58,value:"cinquante-huit"},{number:57,value:"cinquante-sept"},{number:56,value:"cinquante-six"},{number:55,value:"cinquante-cinq"},{number:54,value:"cinquante-quatre"},{number:53,value:"cinquante-trois"},{number:52,value:"cinquante-deux"},{number:51,value:"cinquante et un"},{number:50,value:"cinquante"},{number:49,value:"quarante-neuf"},{number:48,value:"quarante-huit"},{number:47,value:"quarante-sept"},{number:46,value:"quarante-six"},{number:45,value:"quarante-cinq"},{number:44,value:"quarante-quatre"},{number:43,value:"quarante-trois"},{number:42,value:"quarante-deux"},{number:41,value:"quarante et un"},{number:40,value:"quarante"},{number:39,value:"trente-neuf"},{number:38,value:"trente-huit"},{number:37,value:"trente-sept"},{number:36,value:"trente-six"},{number:35,value:"trente-cinq"},{number:34,value:"trente-quatre"},{number:33,value:"trente-trois"},{number:32,value:"trente-deux"},{number:31,value:"trente et un"},{number:30,value:"trente"},{number:29,value:"vingt-neuf"},{number:28,value:"vingt-huit"},{number:27,value:"vingt-sept"},{number:26,value:"vingt-six"},{number:25,value:"vingt-cinq"},{number:24,value:"vingt-quatre"},{number:23,value:"vingt-trois"},{number:22,value:"vingt-deux"},{number:21,value:"vingt et un"},{number:20,value:"vingt"},{number:19,value:"dix-neuf"},{number:18,value:"dix-huit"},{number:17,value:"dix-sept"},{number:16,value:"seize"},{number:15,value:"quinze"},{number:14,value:"quatorze"},{number:13,value:"treize"},{number:12,value:"douze"},{number:11,value:"onze"},{number:10,value:"dix"},{number:9,value:"neuf"},{number:8,value:"huit"},{number:7,value:"sept"},{number:6,value:"six"},{number:5,value:"cinq"},{number:4,value:"quatre"},{number:3,value:"trois"},{number:2,value:"deux"},{number:1,value:"un"},{number:0,value:"z\xe9ro"}],ignoreOneForWords:["cent","mille"],pluralMark:"s",pluralWords:["billiard","billion","milliard","million"]}}}const B={localeCode:"en-US",converterOptions:{currency:!1,ignoreDecimal:!1,ignoreZeroCurrency:!1,doNotAddOnly:!1}};let j=(()=>{class n{static#e=this.instances={};static getInstance(t){let i=this.instances[t];return i||(i=new n({localeCode:t}),this.instances[t]=i),i}static english(t,i){return this.getInstance("en-US").convert(t,i)}static french(t,i){return this.getInstance("fr-FR").convert(t,i)}constructor(t={}){this.options={},this.locale=void 0,this.options={...B,...t}}getLocaleClass(){switch(this.options.localeCode){case"en-US":return M;case"fr-FR":return z}throw new Error(`Unsupported locale "${this.options.localeCode}"`)}getLocale(){if(void 0===this.locale){const t=this.getLocaleClass();this.locale=new t}return this.locale}convert(t,i={}){if(i={...this.options.converterOptions,...i},!this.isValidNumber(t))throw new Error(`Invalid Number "${t}"`);i.ignoreDecimal&&(t=Number.parseInt(t.toString()));let s=[];return s=i.currency?this.convertCurrency(t,i):this.convertNumber(t),s.join(" ")}convertNumber(t){const i=this.getLocale(),s=t<0;s&&(t=Math.abs(t));const o=t.toString().split("."),r=this.isNumberZero(t)&&i.config.ignoreZeroInDecimals;let l=this.convertInternal(Number(o[0]));const c=this.isFloat(t);c&&r&&(l=[]);const p=[];if(c)if(r||p.push(i.config.texts.point),o[1].startsWith("0")&&!i.config?.decimalLengthWordMapping){const v=[];for(const g of o[1])v.push(...this.convertInternal(Number(g)));p.push(...v)}else{p.push(...this.convertInternal(Number(o[1])));const v=i.config?.decimalLengthWordMapping?.[o[1].length];v&&p.push(v)}return!(l.length<=0)&&s&&l.unshift(i.config.texts.minus),l.push(...p),l}convertCurrency(t,i={}){const s=this.getLocale(),o=i.currencyOptions??s.config.currency,r=t<0;r&&(t=Math.abs(t));const l=(t=this.toFixed(t)).toString().split(".");let c=[...this.convertInternal(Number(l[0]))];o.plural&&c.push(o.plural);const p=this.isNumberZero(t)&&(i.ignoreZeroCurrency||s.config?.ignoreZeroInDecimals&&0!==t);p&&(c=[]);const d=[];if(this.isFloat(t)){p||d.push(s.config.texts.and),d.push(...this.convertInternal(Number(l[1])*(s.config.decimalLengthWordMapping?1:Math.pow(10,2-l[1].length))));const m=s.config?.decimalLengthWordMapping?.[l[1].length];m?.length&&d.push(m),d.push(o.fractionalUnit.plural)}else s.config.decimalLengthWordMapping&&c.length&&d.push(o.fractionalUnit.plural);const g=c.length<=0&&d.length<=0;return!g&&r&&c.unshift(s.config.texts.minus),!g&&s.config.texts.only&&!i.doNotAddOnly&&!s.config.onlyInFront&&d.push(s.config.texts.only),d.length&&c.push(...d),!g&&!i.doNotAddOnly&&s.config.onlyInFront&&c.splice(0,0,s.config.texts.only),c}convertInternal(t){const i=this.getLocale();if(i.config.exactWordsMapping){const p=i.config?.exactWordsMapping?.find(d=>t===d.number);if(p)return[p.value]}const s=i.config.numberWordsMapping.find(p=>t>=p.number),o=[];if(t<=100||t<1e3&&i.config.namedLessThan1000)return o.push(s.value),(t-=s.number)>0&&(i.config?.splitWord?.length&&o.push(i.config.splitWord),o.push(...this.convertInternal(t))),o;const r=Math.floor(t/s.number),l=t%s.number;let c=s.value;return r>1&&i.config?.pluralWords?.find(p=>p===s.value)&&i.config?.pluralMark&&(c+=i.config.pluralMark),1===r&&i.config?.ignoreOneForWords?.includes(c)?o.push(c):o.push(...this.convertInternal(r),c),l>0&&(i.config?.splitWord?.length&&(i.config?.noSplitWordAfter?.find(p=>p===s.value)||o.push(i.config.splitWord)),o.push(...this.convertInternal(l))),o}toFixed(t,i=2){return Number(Number(t).toFixed(i))}isFloat(t){return Number(t)===t&&t%1!=0}isValidNumber(t){return!isNaN(parseFloat(t))&&isFinite(t)}isNumberZero(t){return t>=0&&t<1}}return n})();const k=["hour","minute","and","midday","midnight"],I=["heure","minute","et","midi","minuit"],K={en:k,"en-US":k,fr:I,"fr-FR":I},A=(n,a)=>a>1?`${n}s`:n;function $(n,a){const{localeCode:t,...i}=a||{};return j.getInstance(("fr"===t?"fr-FR":"en"===t?"en-US":t)||"en-US").convert(n,i)}function E(n,a){const{hours:t,minutes:i}=n instanceof Date?{hours:n.getHours(),minutes:n.getMinutes()}:{minutes:0,...n},{localeCode:s,noAnd:o}=a||{},r=s&&K[s]||k,l=r===I,[c,p,d,v,g]=r,m=[];if(0===t)m.push(g);else if(12===t)m.push(v);else{let f=$(t,{localeCode:s});l&&(f=f.replace(/(^un$| un|\-un$)/,"$1e")),m.push(f,A(c,t))}if(i){o||m.push(d);let f=$(i,{localeCode:s});l&&(f=f.replace(/(^un$| un|\-un$)/,"$1e")),m.push(f,A(p,i))}return m.join(" ")}var J=u(4396),H=u(8368),Z=u(1316),e=u(4496),V=u(1616),w=u(8108),P=u(4804);const Y=n=>{const a=[];for(let t=0;t<7;t++)a.push({date:(0,h.Ab)(n,t),slots:[]});return a};function X(n){return Math.max(...n.map(({slots:a})=>a.length))}let oe=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=e.Sc5({type:n,selectors:[["","ui-no-availabilities-template",""]],exportAs:["uiNoAvailabilitiesTemplate"],standalone:!0})}return n})(),re=(()=>{class n{static#e=this.\u0275fac=function(i){return new(i||n)};static#t=this.\u0275dir=e.Sc5({type:n,selectors:[["","ui-no-week-availabilities-template",""]],exportAs:["uiNoWeekAvailabilitiesTemplate"],standalone:!0})}return n})();function le(n,a){if(1&n){const t=e.KQA();e.I0R(0,"nav",4)(1,"button",5),e.qCj("click",function(){e.usT(t);const s=e.GaO();return e.CGJ(s.previousPage())}),e.C$Y(),e.I0R(2,"button",6),e.qCj("click",function(){e.usT(t);const s=e.GaO();return e.CGJ(s.nextPage())}),e.C$Y()()}if(2&n){const t=e.GaO();e.yG2(),e.E7m("disabled",!t.hasPreviousPage()),e.e48("aria-hidden",!t.hasPreviousPage()),e.yG2(),e.E7m("disabled",!t.hasNextPage()),e.e48("aria-hidden",!t.hasNextPage())}}function ue(n,a){if(1&n){const t=e.KQA();e.I0R(0,"li",19)(1,"button",20),e.qCj("click",function(s){const r=e.usT(t).$implicit,l=e.GaO(4);return e.CGJ(l.handleChoice(s,r))}),e.OEk(2),e.C$Y()()}if(2&n){const t=a.$implicit,i=e.GaO(4);e.eAK("ui-availability-picker__slot--activated",i.isActivatedSlot(t)),e.e48("aria-label","Cr\xe9neau de "+i.getWrittenClockTime(t)),e.yG2(),e.e48("aria-label",i.getWrittenClockTime(t))("aria-pressed",i.isActivatedSlot(t)),e.yG2(),e.cNF(i.getNumericClockTime(t))}}function ce(n,a){if(1&n&&(e.I0R(0,"ul",17),e.yuY(1,ue,3,6,"li",18),e.C$Y()),2&n){const t=e.GaO().$implicit,i=e.GaO(2);e.e48("aria-label","Liste des cr\xe9neaux pour le "+i.getDateVerbose(t)),e.yG2(),e.E7m("ngForOf",t.slots)}}function pe(n,a){if(1&n&&(e.I0R(0,"li",9)(1,"time",10),e.OEk(2),e.C$Y(),e.I0R(3,"div",11)(4,"span",12),e.OEk(5),e.C$Y(),e.OEk(6),e.I0R(7,"span",13),e.OEk(8),e.C$Y(),e.I0R(9,"span",14),e.OEk(10),e.C$Y(),e.OEk(11),e.I0R(12,"span",15),e.OEk(13),e.C$Y()(),e.yuY(14,ce,2,2,"ul",16),e.C$Y()),2&n){const t=a.$implicit,i=e.GaO(2);e.eAK("ui-availability-picker__day--first",i.isDayFirst(t))("ui-availability-picker__day--last",i.isDayLast(t))("ui-availability-picker__day--without-slots",!i.isDayWithSlots(t)),e.e48("aria-label",i.isDayWithSlots(t)?"Cr\xe9neaux pour le "+i.getDateVerbose(t):"Pas de cr\xe9neaux le "+i.getDateVerbose(t)),e.yG2(),e.E7m("dateTime",i.getDateTime(t)),e.yG2(),e.cNF(i.getDateVerbose(t)),e.yG2(3),e.oRS(" ",i.getDayName(t)," "),e.yG2(),e.oRS(" "," "," "),e.yG2(2),e.oRS(" ",i.getDayMonthName(t)," "),e.yG2(2),e.oRS(" ",i.getDayNameAbbreviated(t)," "),e.yG2(),e.oRS(" "," "," "),e.yG2(2),e.oRS(" ",i.getDayMonthNameAbbreviated(t)," "),e.yG2(),e.E7m("ngIf",i.isDayWithSlots(t))}}function he(n,a){if(1&n&&(e.I0R(0,"ul",7),e.yuY(1,pe,15,16,"li",8),e.C$Y()),2&n){const t=e.GaO();e.uQ9("ui-availability-picker__days height-",t.hasAvailabilitiesInCurrentPage()?t.getSlotsDaysMaxSize():0,""),e.eAK("without-slots",!t.hasAvailabilitiesInCurrentPage()),e.yG2(),e.E7m("ngForOf",t.currentDays)}}function de(n,a){1&n&&(e.I0R(0,"div",21)(1,"p"),e.OEk(2,"Aucune disponibilit\xe9 cette semaine"),e.C$Y(),e.I0R(3,"p"),e.OEk(4,"Consultez les cr\xe9neaux des autres semaines."),e.C$Y()())}function me(n,a){1&n&&e.C_f(0)}function ve(n,a){if(1&n&&(e.I0R(0,"div",21),e.yuY(1,me,1,0,"ng-container",22),e.C$Y()),2&n){const t=e.GaO();e.yG2(),e.E7m("ngTemplateOutlet",t.noWeekAvailabilitiesTemplate)}}function ge(n,a){1&n&&(e.I0R(0,"div",23)(1,"p"),e.OEk(2,"Aucune disponibilit\xe9"),e.C$Y()())}function fe(n,a){1&n&&e.C_f(0)}function be(n,a){if(1&n&&(e.I0R(0,"div",23),e.yuY(1,fe,1,0,"ng-container",22),e.C$Y()),2&n){const t=e.GaO();e.yG2(),e.E7m("ngTemplateOutlet",t.noAvailabilitiesTemplate)}}class y{get activatedSlots(){return this._activatedSlots}set activatedSlots(a){this.setActivatedSlots(a)}get suggestedSlot(){return this._suggestedSlot}set suggestedSlot(a){this.setSuggestedSlot(a)}get slots(){return this._slots}set slots(a){this.setSlots(a)}get wide(){return this._wide}set wide(a){this._wide=a,this.refreshCurrentSlot()}get currentDays(){return this.currentSlotsDays}get daysMarkersIndexes(){return Array.from(Array(this.getSlotsDaysMaxSize()).keys())}constructor(a){this.changeDetectorRef=a,this._activatedSlots=[],this._slots=[],this._wide=!1,this.slotSelected=new e._w7,this.daysOptional=[],this.slotsDays=[],this.slotsDaysPages=[],this.slotsDaysPageIndex=0,this.slotsDaysMaxSizeByPage=[],this.slotsDaysOptional=this.daysOptional,this.currentSlotsDays=[],this.currentSlotsDaysSize=0}ngAfterViewInit(){if((!this.hasAvailabilities()&&this.noAvailabilitiesTemplate||!this.hasAvailabilitiesInCurrentPage()&&this.noWeekAvailabilitiesTemplate)&&this.changeDetectorRef.markForCheck(),this.hasAvailabilities()&&(this.activatedSlots?.length||this.suggestedSlot)){const a=(this.activatedSlots?[...this.activatedSlots]:[]).filter(t=>!!t).sort((t,i)=>t.getTime()-i.getTime()).shift()||this.suggestedSlot;this.setSlotIndexThatCanContainTheGivenSlot(a)}}getDateTime(a){return(0,h._m)(a.date,"yyyy-MM-dd")}getDateVerbose(a){return(0,h._m)(a.date,"EEEE d LLLL yyyy")}getDayName(a){return(0,h._m)(a.date,"EEEE")}getDayNameAbbreviated(a){return(0,h._m)(a.date,"EEE")}getDayMonthName(a){return(0,h._m)(a.date,"d LLLL")}getDayMonthNameAbbreviated(a){return(0,h._m)(a.date,"d LLL")}getNumericClockTime(a){return(0,h._m)(a,"HH:mm")}getSlotsDaysMaxSize(){return this.slotsDaysMaxSizeByPage[this.slotsDaysPageIndex]||0}getWrittenClockTime(a){return E(a,{localeCode:"fr"})}isActivatedSlot(a){for(const t of this.activatedSlots)if(t.getTime()===a.getTime())return!0;return!1}handleChoice(a,t){a.preventDefault(),this.slotSelected.emit(t)}hasAvailabilities(){return this.slots.length>0}hasAvailabilitiesInCurrentPage(){return this.currentSlotsDaysSize>0}hasNextPage(){return this.slotsDaysPageIndex+1<this.slotsDaysPages.length}hasPreviousPage(){return this.slotsDaysPageIndex>0}isDayWithSlots(a){return a.slots.length>0}isDayFirst(a){return a===this.currentDays.find(t=>t.slots.length>0)}isDayLast(a){return a===[...this.currentDays].reverse().find(t=>t.slots.length>0)}nextPage(){this.setSlotIndex(this.slotsDaysPageIndex+1)}previousPage(){this.setSlotIndex(this.slotsDaysPageIndex-1)}setActivatedSlots(a){a!==this._activatedSlots&&(this._activatedSlots=a,a.length&&this.setSlotIndexThatCanContainTheGivenSlot(a[0]))}setSuggestedSlot(a){a!==this._suggestedSlot&&(this._suggestedSlot=a,this.activatedSlots.length||this.setSlotIndexThatCanContainTheGivenSlot(a))}setSlotIndexThatCanContainTheGivenSlot(a){const t=function ie(n,a){if(!n.length||isNaN(a?.getTime()))return-1;let t=0;if(n.length>1&&a.getTime()>=n[0][0]?.date.getTime()){for(;t<n.length;++t){const s=n[t+1]?.[0];if(a.getTime()<s?.date.getTime())break}t>n.length-1&&(t=n.length-1)}return t}(this.slotsDaysPages,a);-1!==t&&this.setSlotIndex(t)}refreshCurrentSlot(){let a=this.slotsDays;this.wide&&(a=function ne(n,a,t=[]){let i=n[a];return t.length&&(i=[...i],[...t].sort().reverse().forEach(s=>i.splice(s,1))),i}(this.slotsDaysPages,this.slotsDaysPageIndex,this.slotsDaysOptional)),this.currentSlotsDays=a,this.currentSlotsDaysSize=function te(n){return n.reduce((a,t)=>a+t.slots.length,0)}(a),this.changeDetectorRef.detectChanges()}setSlots(a){this._slots=a,this.slotsDays=function ae(n){if(!n.length)return[];const a=[...n].sort((i,s)=>i.getTime()-s.getTime()),t={};for(const i of a){const s=(0,h.cG)(i),o=s.getTime();let r=t[o];r||(r={date:s,slots:[]},t[o]=r),r.slots.push(i)}return Object.keys(t).map(i=>t[i])}(this._slots),this.slotsDaysPages=function se(n,a){if(!n.length)return[Y((0,h.Mn)(new Date))];const t=!!a?.skipEmptyWeek,i=[];let s=-1,o=0,r=0;for(const l of n){const c=l.date.getTime();for(;c>=r;)o=-1===s||t?(0,h.Mn)(l.date).getTime():(0,h.Ab)(o,7).getTime(),r=(0,h.Ab)(o,7).getTime(),i[++s]=Y(o);const p=+(0,h._m)(c,"i");i[s][p-1].slots=l.slots}return i}(this.slotsDays),this.slotsDaysMaxSizeByPage=function ee(n){return n.map(X)}(this.slotsDaysPages),this.slotsDaysOptional=function Q(n,a){if(!n.length)return a;const t=[];for(const i of a)0===n.reduce((o,r)=>o+r[i].slots.length,0)&&t.push(i);return t}(this.slotsDaysPages,this.daysOptional),this.slotsDaysPageIndex=0,this.refreshCurrentSlot()}setSlotIndex(a){a!==this.slotsDaysPageIndex&&(this.slotsDaysPageIndex=a,this.refreshCurrentSlot())}static#e=this.\u0275fac=function(t){return new(t||y)(e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:y,selectors:[["ui-availability-picker"]],contentQueries:function(t,i,s){if(1&t&&(e.szK(s,oe,5,e.Yw2),e.szK(s,re,5,e.Yw2)),2&t){let o;e.wto(o=e.Gqi())&&(i.noAvailabilitiesTemplate=o.first),e.wto(o=e.Gqi())&&(i.noWeekAvailabilitiesTemplate=o.first)}},hostVars:4,hostBindings:function(t,i){2&t&&e.eAK("ui-availability-picker",!0)("ui-availability-picker--wide",i.wide)},inputs:{activatedSlots:"activatedSlots",suggestedSlot:"suggestedSlot",slots:"slots",wide:"wide"},outputs:{slotSelected:"slotSelected"},standalone:!0,features:[e.UHJ],decls:6,vars:6,consts:[["aria-label","Navigation entre les semaines de cr\xe9neaux","class","ui-availability-picker__actions",4,"ngIf"],["aria-label","Liste des cr\xe9neaux",3,"class","without-slots",4,"ngIf"],["class","ui-availability-picker__no-week-availabilities",4,"ngIf"],["class","ui-availability-picker__no-availabilities",4,"ngIf"],["aria-label","Navigation entre les semaines de cr\xe9neaux",1,"ui-availability-picker__actions"],["type","button","title","Afficher les cr\xe9neaux de la semaine pr\xe9c\xe9dente","ui-icon","ionicon:chevron-back","ui-ripple","","ui-ripple-centered","",1,"ui-availability-picker__action","ui-availability-picker__action--left",3,"disabled","click"],["type","button","title","Afficher les cr\xe9neaux de la semaine suivante","ui-icon","ionicon:chevron-forward","ui-ripple","","ui-ripple-centered","",1,"ui-availability-picker__action","ui-availability-picker__action--right",3,"disabled","click"],["aria-label","Liste des cr\xe9neaux"],["class","ui-availability-picker__day",3,"ui-availability-picker__day--first","ui-availability-picker__day--last","ui-availability-picker__day--without-slots",4,"ngFor","ngForOf"],[1,"ui-availability-picker__day"],[1,"ui-availability-picker__datetime",3,"dateTime"],["aria-hidden","true",1,"ui-availability-picker__day-title"],[1,"ui-availability-picker__day-of-week"],[1,"ui-availability-picker__day-month"],[1,"ui-availability-picker__day-of-week","ui-availability-picker__day-of-week--abbreviated"],[1,"ui-availability-picker__day-month","ui-availability-picker__day-month--abbreviated"],["class","ui-availability-picker__slots",4,"ngIf"],[1,"ui-availability-picker__slots"],["class","ui-availability-picker__slot",3,"ui-availability-picker__slot--activated",4,"ngFor","ngForOf"],[1,"ui-availability-picker__slot"],["type","button","ui-ripple","",1,"ui-availability-picker__slot-button",3,"click"],[1,"ui-availability-picker__no-week-availabilities"],[4,"ngTemplateOutlet"],[1,"ui-availability-picker__no-availabilities"]],template:function(t,i){1&t&&e.yuY(0,le,3,4,"nav",0)(1,he,2,6,"ul",1)(2,de,5,0,"div",2)(3,ve,2,1,"div",2)(4,ge,3,0,"div",3)(5,be,2,1,"div",3),2&t&&(e.E7m("ngIf",i.wide),e.yG2(),e.E7m("ngIf",i.wide||i.hasAvailabilitiesInCurrentPage()),e.yG2(),e.E7m("ngIf",i.hasAvailabilities()&&!i.hasAvailabilitiesInCurrentPage()&&!i.noWeekAvailabilitiesTemplate),e.yG2(),e.E7m("ngIf",i.hasAvailabilities()&&!i.hasAvailabilitiesInCurrentPage()&&i.noWeekAvailabilitiesTemplate),e.yG2(),e.E7m("ngIf",!i.hasAvailabilities()&&!i.noAvailabilitiesTemplate),e.yG2(),e.E7m("ngIf",!i.hasAvailabilities()&&i.noAvailabilitiesTemplate))},dependencies:[b.Iw,b.u_,b.XV,P.i,w.W],encapsulation:2,changeDetection:0})}(0,Z.UN)([(0,V.i)()],y.prototype,"wide",null);var _e=u(436),ye=u(1376),Se=u(8344),Ce=u(9592),ke=u(5408);function Ie(n,a){1&n&&(e.I0R(0,"li",14)(1,"a",15),e.qCj("click",function(i){return i.preventDefault()}),e.wR5(2,"span",16),e.I0R(3,"span",3),e.OEk(4,"Contacter"),e.C$Y()()())}function Ee(n,a){1&n&&(e.I0R(0,"li",14)(1,"a",15),e.qCj("click",function(i){return i.preventDefault()}),e.wR5(2,"span",17),e.I0R(3,"span",3),e.OEk(4,"Localiser"),e.C$Y()()())}function De(n,a){1&n&&(e.I0R(0,"li",14)(1,"a",15),e.qCj("click",function(i){return i.preventDefault()}),e.wR5(2,"span",18),e.I0R(3,"span",3),e.OEk(4,"Partarger"),e.C$Y()()())}function Re(n,a){if(1&n&&(e.I0R(0,"strong"),e.OEk(1),e.C$Y()),2&n){const t=e.GaO(2);e.E7m("@fade",void 0),e.yG2(),e.oRS(" "," \u2022 "+t.getSelectedDatetimeLabel()," ")}}function Oe(n,a){1&n&&e.wR5(0,"span",24)}function xe(n,a){if(1&n){const t=e.KQA();e.I0R(0,"li",19)(1,"button",20),e.qCj("click",function(s){e.usT(t);const o=e.GaO();return e.CGJ(o._onContinueButtonClick(s))}),e.I0R(2,"span",21),e.OEk(3),e.C$Y(),e.I0R(4,"span",21),e.OEk(5),e.yuY(6,Re,2,2,"strong",22),e.C$Y(),e.I0R(7,"span",21),e.OEk(8),e.C$Y(),e.yuY(9,Oe,1,0,"span",23),e.C$Y()()}if(2&n){const t=e.GaO();e.m4B("bottom",t.offsetBottom,"px"),e.E7m("@fade",void 0),e.yG2(),e.eAK("continue-button--disabled",t.shopStep2||t.shopStep1&&!t.hasSelectedDatetime()),e.E7m("ui-ripple-disabled",t.shopStep2||t.shopStep1&&!t.hasSelectedDatetime()),e.e48("aria-label",t.continueLabel)("tabindex",t.shopStep2||t.shopStep1&&!t.hasSelectedDatetime()?-1:null),e.yG2(2),e.oRS(" ",t.itemsTotal," "),e.yG2(2),e.oRS(" ",29*t.itemsTotal,"\u20ac "),e.yG2(),e.E7m("ngIf",!t.shopStep0&&t.hasSelectedDatetime()),e.yG2(2),e.oRS(" ",t.shopStep2?t.secondsToWaitBeforeConfirmation?"Confirmation dans "+t.secondsToWaitBeforeConfirmation+"s...":t.userAuthenticated?"Confirmation en cours...":"Confirmation en attente...":t.shopStep1?"Je confirme mon horaire":"Je choisis mon horaire"," "),e.yG2(),e.E7m("ngIf",t.shopStep2)}}function Ge(n,a){if(1&n){const t=e.KQA();e.I0R(0,"section",25)(1,"h3",26),e.OEk(2,"Tarifs"),e.C$Y(),e.I0R(3,"div",27)(4,"h4",28),e.OEk(5,"Coupe homme"),e.C$Y(),e.I0R(6,"ul",29)(7,"li",30)(8,"label",31)(9,"span",32),e.OEk(10,"Coupe homme classique"),e.C$Y(),e.OEk(11),e.I0R(12,"span",33),e.OEk(13,"30min"),e.C$Y(),e.OEk(14),e.I0R(15,"span",34),e.OEk(16,"29\u20ac"),e.C$Y(),e.OEk(17),e.I0R(18,"input",35),e.qCj("change",function(s){e.usT(t);const o=e.GaO();return e.CGJ(o._onShopPriceCheckedChange(s))}),e.C$Y(),e.S2Z(),e.I0R(19,"svg",36),e.wR5(20,"path",37),e.C$Y()()(),e.gRP(),e.I0R(21,"li",38)(22,"label",39)(23,"span",32),e.OEk(24,"Shampoing & Coupe Homme"),e.C$Y(),e.OEk(25),e.I0R(26,"span",33),e.OEk(27,"30min"),e.C$Y(),e.OEk(28),e.I0R(29,"span",34),e.OEk(30,"29\u20ac"),e.C$Y(),e.OEk(31),e.I0R(32,"input",35),e.qCj("change",function(s){e.usT(t);const o=e.GaO();return e.CGJ(o._onShopPriceCheckedChange(s))}),e.C$Y(),e.S2Z(),e.I0R(33,"svg",36),e.wR5(34,"path",37),e.C$Y()()(),e.gRP(),e.I0R(35,"li",38)(36,"label",39)(37,"span",32),e.OEk(38,"Coupe de cheveux \xe0 la tondeuse Homme"),e.C$Y(),e.OEk(39),e.I0R(40,"span",33),e.OEk(41,"30min"),e.C$Y(),e.OEk(42),e.I0R(43,"span",34),e.OEk(44,"29\u20ac"),e.C$Y(),e.OEk(45),e.I0R(46,"input",35),e.qCj("change",function(s){e.usT(t);const o=e.GaO();return e.CGJ(o._onShopPriceCheckedChange(s))}),e.C$Y(),e.S2Z(),e.I0R(47,"svg",36),e.wR5(48,"path",37),e.C$Y()()(),e.gRP(),e.I0R(49,"li",38)(50,"label",39)(51,"span",32),e.OEk(52,"Coupe de cheveux - \xe9tudiant"),e.C$Y(),e.OEk(53),e.I0R(54,"span",33),e.OEk(55,"30min"),e.C$Y(),e.OEk(56),e.I0R(57,"span",34),e.OEk(58,"29\u20ac"),e.C$Y(),e.OEk(59),e.I0R(60,"input",35),e.qCj("change",function(s){e.usT(t);const o=e.GaO();return e.CGJ(o._onShopPriceCheckedChange(s))}),e.C$Y(),e.S2Z(),e.I0R(61,"svg",36),e.wR5(62,"path",37),e.C$Y()()(),e.gRP(),e.I0R(63,"li",38)(64,"label",39)(65,"span",32),e.OEk(66,"Shampoing, Massage cr\xe2nien & Coupe de cheveux pour les hommes"),e.C$Y(),e.OEk(67),e.I0R(68,"span",33),e.OEk(69,"30min"),e.C$Y(),e.OEk(70),e.I0R(71,"span",34),e.OEk(72,"29\u20ac"),e.C$Y(),e.OEk(73),e.I0R(74,"input",35),e.qCj("change",function(s){e.usT(t);const o=e.GaO();return e.CGJ(o._onShopPriceCheckedChange(s))}),e.C$Y(),e.S2Z(),e.I0R(75,"svg",36),e.wR5(76,"path",37),e.C$Y()()()()(),e.gRP(),e.I0R(77,"div",27)(78,"h4",28),e.OEk(79,"\xc9pilation"),e.C$Y(),e.I0R(80,"ul",29)(81,"li",38)(82,"label",39)(83,"span",32),e.OEk(84,"Epilation \xe0 la cire des aisselles"),e.C$Y(),e.OEk(85),e.I0R(86,"span",33),e.OEk(87,"30min"),e.C$Y(),e.OEk(88),e.I0R(89,"span",34),e.OEk(90,"29\u20ac"),e.C$Y(),e.OEk(91),e.I0R(92,"input",35),e.qCj("change",function(s){e.usT(t);const o=e.GaO();return e.CGJ(o._onShopPriceCheckedChange(s))}),e.C$Y(),e.S2Z(),e.I0R(93,"svg",36),e.wR5(94,"path",37),e.C$Y()()(),e.gRP(),e.I0R(95,"li",38)(96,"label",39)(97,"span",32),e.OEk(98,"\xc9pilation \xe0 la cire du menton"),e.C$Y(),e.OEk(99),e.I0R(100,"span",33),e.OEk(101,"30min"),e.C$Y(),e.OEk(102),e.I0R(103,"span",34),e.OEk(104,"29\u20ac"),e.C$Y(),e.OEk(105),e.I0R(106,"input",35),e.qCj("change",function(s){e.usT(t);const o=e.GaO();return e.CGJ(o._onShopPriceCheckedChange(s))}),e.C$Y(),e.S2Z(),e.I0R(107,"svg",36),e.wR5(108,"path",37),e.C$Y()()(),e.gRP(),e.I0R(109,"li",38)(110,"label",39)(111,"span",32),e.OEk(112,"\xc9pilation \xe0 la cire du dos Homme"),e.C$Y(),e.OEk(113),e.I0R(114,"span",33),e.OEk(115,"30min"),e.C$Y(),e.OEk(116),e.I0R(117,"span",34),e.OEk(118,"29\u20ac"),e.C$Y(),e.OEk(119),e.I0R(120,"input",35),e.qCj("change",function(s){e.usT(t);const o=e.GaO();return e.CGJ(o._onShopPriceCheckedChange(s))}),e.C$Y(),e.S2Z(),e.I0R(121,"svg",36),e.wR5(122,"path",37),e.C$Y()()()()()()}if(2&n){const t=e.GaO();e.yG2(11),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(),e.E7m("checked",t.isItemChecked(0)),e.yG2(7),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(),e.E7m("checked",t.isItemChecked(1)),e.yG2(7),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(),e.E7m("checked",t.isItemChecked(2)),e.yG2(7),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(),e.E7m("checked",t.isItemChecked(3)),e.yG2(7),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(),e.E7m("checked",t.isItemChecked(4)),e.yG2(11),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(),e.E7m("checked",t.isItemChecked(5)),e.yG2(7),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(),e.E7m("checked",t.isItemChecked(6)),e.yG2(7),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(),e.E7m("checked",t.isItemChecked(7))}}function Te(n,a){if(1&n){const t=e.KQA();e.I0R(0,"li",49)(1,"span",50),e.OEk(2,"Shampoing & Coupe Homme"),e.C$Y(),e.OEk(3),e.I0R(4,"span",51),e.OEk(5,"30min"),e.C$Y(),e.OEk(6),e.I0R(7,"span",52),e.OEk(8,"29\u20ac"),e.C$Y(),e.OEk(9),e.I0R(10,"button",53),e.qCj("click",function(s){const r=e.usT(t).$implicit,l=e.GaO(2);return e.CGJ(l._onItemRemoveButtonClick(s,r))}),e.C$Y()()}if(2&n){const t=a.$implicit,i=e.GaO(2);e.E7m("@fold",void 0),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(3),e.oRS(" "," "," "),e.yG2(),e.m4B("visibility",i.confirmating?"hidden":null),e.E7m("disabled",i.confirmating),e.e48("aria-hidden",!!i.confirmating||null)("aria-label","Supprimer "+t)}}function Ae(n,a){if(1&n){const t=e.KQA();e.I0R(0,"ui-availability-picker",54),e.qCj("slotSelected",function(s){e.usT(t);const o=e.GaO(2);return e.CGJ(o._onAvailabilitySelected(s))}),e.C$Y()}if(2&n){const t=e.GaO(2);e.E7m("slots",t.slots)("activatedSlots",t.activatedSlots)("suggestedSlot",t.suggestedSlot)("wide",t.wide)}}function $e(n,a){if(1&n&&(e.I0R(0,"p",50)(1,"time",55),e.OEk(2),e.C$Y()()),2&n){const t=e.GaO(2);e.yG2(),e.E7m("dateTime",t.getSelectedDatetimeISO()),e.yG2(),e.cNF(t.getSelectedDatetimeLabel())}}const we=()=>[".","reservation"];function Pe(n,a){if(1&n&&(e.I0R(0,"div",43)(1,"a",44),e.qCj("click",function(i){return i.preventDefault()}),e.wR5(2,"span",56),e.I0R(3,"span"),e.OEk(4,"Changer l'horaire de rendez-vous"),e.C$Y()()()),2&n){const t=e.GaO(2);e.yG2(),e.eAK("shop-meeting__action-button--disabled",t.shopStep2&&t.confirmating),e.E7m("routerLink",t.shopStep2&&t.confirmating?null:e.q4q(3,we))}}const Ye=()=>["."];function Fe(n,a){if(1&n&&(e.I0R(0,"section",40)(1,"h3",1),e.OEk(2),e.C$Y(),e.I0R(3,"p",28),e.OEk(4),e.C$Y(),e.I0R(5,"ul",41),e.yuY(6,Te,11,9,"li",42),e.C$Y(),e.I0R(7,"div",43)(8,"a",44),e.qCj("click",function(i){return i.preventDefault()}),e.wR5(9,"span",45),e.I0R(10,"span"),e.OEk(11,"Ajouter une autre prestation"),e.C$Y()()(),e.I0R(12,"p",28),e.OEk(13),e.C$Y(),e.yuY(14,Ae,1,4,"ui-availability-picker",46)(15,$e,3,2,"p",47)(16,Pe,5,4,"div",48),e.C$Y()),2&n){const t=e.GaO();e.yG2(2),e.oRS(" ",t.shopStep2?"Confirmation":"R\xe9servation"," "),e.yG2(2),e.CAO(" Prestation",t.itemsTotal>1?"s":""," s\xe9lectionn\xe9e",t.itemsTotal>1?"s":""," "),e.yG2(2),e.E7m("ngForOf",t.items),e.yG2(2),e.eAK("shop-meeting__action-button--disabled",t.shopStep2&&t.confirmating),e.E7m("routerLink",t.shopStep2&&t.confirmating?null:e.q4q(11,Ye)),e.yG2(5),e.oRS(" ",t.shopStep2?"Horaire de rendez-vous s\xe9lectionn\xe9":"Choisir un horaire de rendez-vous"," "),e.yG2(),e.E7m("ngIf",t.shopStep1),e.yG2(),e.E7m("ngIf",t.shopStep2),e.yG2(),e.E7m("ngIf",t.shopStep2)}}let Ue=(()=>{class n{get backUrl(){return this.shopStep2?[".","reservation"]:this.shopStep1?["."]:this.routerFacade.backUrl({steps:1,defaultUrl:"/",predicate:t=>!t.url.startsWith(`/etablissements/${this.venueUid}`)})}get continueLabel(){return this.shopStep2?this.continueLabelOnShopStep2:this.shopStep1?this.continueLabelOnShopStep1:this.continueLabelOnShopStep0}get continueLabelOnShopStep0(){const t=this.itemsTotal;return`Choisir mon horaire pour ${t} prestation(s) d'un montant total de ${29*t} euros`}get continueLabelOnShopStep1(){const t=this.cartFacade.getDatetime(this.venueUid);if(!t)return this.continueLabelOnShopStep0;const i=this.itemsTotal,s=new Date(t);return`Confirmer mon horaire pour ${i} prestation(s) d'un montant total de ${29*i} euros le ${(0,h._m)(s,"EEEE d LLLL")+" \xe0 "+E(s,{localeCode:"fr"})}`}get continueLabelOnShopStep2(){const t=this.cartFacade.getDatetime(this.venueUid);if(!t)return this.continueLabelOnShopStep0;const i=this.itemsTotal,s=new Date(t);return`Confirmation en cours pour ${i} prestation(s) d'un montant total de ${29*i} euros le ${(0,h._m)(s,"EEEE d LLLL")+" \xe0 "+E(s,{localeCode:"fr"})}`}get items(){return this.cartFacade.getItems(this.venueUid)}get itemsTotal(){return this.cartFacade.getItemsTotal(this.venueUid)}get offsetBottom(){return this.scrollService.computeOffset("bottom")+24}get shopStep(){return this.routerFacade.getRouteDataForKey("shopStep",0)}get shopStep0(){return 0===this.shopStep}get shopStep1(){return 1===this.shopStep}get shopStep2(){return 2===this.shopStep}get userAuthenticated(){return this.authFacade.authenticated()}get venue(){return this.venueUid&&T.S.offers.find(({provider:t})=>t===this.venueUid)||T.S.offers[0]}get wide(){return this.breakpoints.md.up()}get activatedSlots(){const t=this.cartFacade.getDatetime(this.venueUid);return t!==this._activatedSlotsSource&&(this._activatedSlots=t?[new Date(t)]:[],this._activatedSlotsSource=t),this._activatedSlots}get suggestedSlot(){const t=this.cartFacade.getPreferentialDate(this.venueUid);return t!==this._suggestedSlotSource&&(this._suggestedSlot=t?(0,h.sn)(t,"yyyyMMdd"):null,this._suggestedSlotSource=t),this._suggestedSlot}constructor(t,i,s,o,r,l,c){this.elementRef=t,this.changeDetectorRef=i,this.breakpoints=s,this.scrollService=o,this.authFacade=r,this.routerFacade=l,this.cartFacade=c,this._activatedSlots=[],this._activatedSlotsSource="",this._suggestedSlot=null,this._suggestedSlotSource="",this.slots=[new Date(2023,9,11,9,0),new Date(2023,9,11,9,30),new Date(2023,9,11,10,0),new Date(2023,9,11,11,30),new Date(2023,9,11,14,0),new Date(2023,9,11,14,30),new Date(2023,9,11,15,0),new Date(2023,9,11,15,30),new Date(2023,9,12,9,0),new Date(2023,9,12,9,30),new Date(2023,9,12,10,0),new Date(2023,9,13,10,0),new Date(2023,9,13,11,30),new Date(2023,9,13,14,0),new Date(2023,9,13,14,30),new Date(2023,9,13,15,0),new Date(2023,9,13,15,30),new Date(2023,9,14,9,0),new Date(2023,9,14,9,30),new Date(2023,9,14,10,0),new Date(2023,9,14,11,30),new Date(2023,9,14,14,0),new Date(2023,9,14,14,30),new Date(2023,9,14,15,0),new Date(2023,9,14,15,30),new Date(2023,9,19,9,0),new Date(2023,9,19,9,30),new Date(2023,9,19,10,0),new Date(2023,9,19,10,30),new Date(2023,9,19,11,0),new Date(2023,9,19,11,30),new Date(2023,9,19,14,0),new Date(2023,9,19,14,30),new Date(2023,9,19,15,0),new Date(2023,9,19,15,30),new Date(2023,9,19,19,0),new Date(2023,9,19,19,30),new Date(2023,9,19,17,0),new Date(2023,9,19,17,30),new Date(2023,9,19,18,0),new Date(2023,9,19,18,30),new Date(2023,9,19,19,0),new Date(2023,10,7,15,0)],this.secondsToWaitBeforeConfirmationDefault=5,this.secondsToWaitBeforeConfirmation=this.secondsToWaitBeforeConfirmationDefault,this.confirmating=!1,this.destroyed$=new U.E}ngOnInit(){const t=this.routerFacade.ofRouteParamForKey("venueUid","",{fromAll:!0}),i=t.pipe((0,S.G)(o=>this.cartFacade.ofEntity(o))),s=this.routerFacade.ofRouteDataForKey("shopStep",0);(0,R.U)(this.breakpoints.viewportChanges$,t,i,s,this.authFacade.authenticated$,this.scrollService.observeOffset("bottom")).pipe((0,_.a)(this.destroyed$),(0,W.o)(0)).subscribe(()=>{this.changeDetectorRef.markForCheck()}),t.pipe((0,_.a)(this.destroyed$),(0,S.G)(o=>this.cartFacade.ofItemsTotal(o))).subscribe(o=>{this.shopStep>0&&!o&&this.routerFacade.navigateToUrl(`/etablissements/${this.venueUid}`)}),(0,R.U)(s,t,i,this.authFacade.authenticated$).pipe((0,_.a)(this.destroyed$),(0,O.I)(()=>2===this.shopStep&&this.itemsTotal>0),(0,S.G)(()=>(this.confirmating=!1,this.secondsToWaitBeforeConfirmation=this.secondsToWaitBeforeConfirmationDefault,this.changeDetectorRef.markForCheck(),(0,L.I)(1e3).pipe((0,_.a)(this.destroyed$),(0,_.a)(s.pipe((0,O.I)(o=>2!==o),(0,x.U)(1))),(0,x.U)(this.secondsToWaitBeforeConfirmation)))),(0,S.G)(()=>{if(this.secondsToWaitBeforeConfirmation--,this.changeDetectorRef.markForCheck(),this.secondsToWaitBeforeConfirmation>0)return C.C;const o=this.cartFacade.getItems(this.venueUid);if(!o.length)return this.routerFacade.navigateToUrl(`/etablissements/${this.venueUid}`),C.C;const r=this.cartFacade.getDatetime(this.venueUid);return r?this.authFacade.authenticated()?(this.confirmating=!0,this.changeDetectorRef.markForCheck(),(0,q.of)({venue:this.venueUid,items:o,datetime:r})):(this.authFacade.inviteLogin(`Identifiez-vous pour confirmer votre rendez-vous chez ${this.venue.provider}`,`/etablissements/${this.venueUid}/confirmation`),C.C):(this.routerFacade.navigateToUrl(`/etablissements/${this.venueUid}/reservation`),C.C)})).subscribe(({venue:o,datetime:r,items:l})=>{this.cartFacade.confirmRequest(o,r,l)})}ngOnDestroy(){this.destroyed$.next(),this.destroyed$.complete()}getSelectedDatetimeLabel(){const t=this.cartFacade.getDatetime(this.venueUid);return t?(0,h._m)(new Date(t),"EEEE d LLLL HH:mm"):""}getSelectedDatetimeISO(){const t=this.cartFacade.getDatetime(this.venueUid);return t?new Date(t).toISOString():""}hasSelectedDatetime(){return!!this.cartFacade.getDatetime(this.venueUid)}isItemChecked(t){return this.cartFacade.isItemChecked(this.venueUid,t.toString())}changeDatetime(t){t.toISOString()===this.cartFacade.getDatetime(this.venueUid)?this.cartFacade.unselectDatetime(this.venueUid):this.cartFacade.selectDatetime(this.venueUid,t.toISOString()),this.changeDetectorRef.markForCheck()}_onActionButtonWhichIsRouterLinkClick(t){t.preventDefault()}_onAvailabilitySelected(t){this.changeDatetime(t)}_onContinueButtonClick(t){t.preventDefault(),this.shopStep1?this.routerFacade.navigateToUrl(`/etablissements/${this.venueUid}/confirmation`):this.shopStep0&&this.routerFacade.navigateToUrl(`/etablissements/${this.venueUid}/reservation`)}_onItemRemoveButtonClick(t,i){t.preventDefault(),this.cartFacade.removeItem(this.venueUid,i)}_onShopPriceCheckedChange(t){const i=t.target,s=this.elementRef.nativeElement.querySelectorAll(".shop-prices__item > input[type=checkbox"),o=(0,N.oh)(s,i);-1!==o&&this.cartFacade.toggleItem(this.venueUid,o.toString())}static#e=this.\u0275fac=function(i){return new(i||n)(e.GI1(e.GMv),e.GI1(e.kD9),e.GI1(_e.k),e.GI1(ye.w),e.GI1(Se.O),e.GI1(Ce.A),e.GI1(ke.Q))};static#t=this.\u0275cmp=e.In1({type:n,selectors:[["app-shop-page"]],hostVars:2,hostBindings:function(i,s){2&i&&e.eAK("app-shop-page",!0)},inputs:{venueUid:"venueUid"},standalone:!0,features:[e.UHJ],decls:25,vars:14,consts:[[3,"uiAriaLabelledby"],[1,"ui-heading-5"],["venueTitle",""],[1,"ui-label-2"],["type","button","ui-ripple","","ui-ripple-centered","","ui-ripple-unbounded","",1,"favorite-button",3,"click"],["aria-hidden","true","ui-icon","ionicon:heart"],["heartIcon","uiIcon"],["aria-label","Retour","ui-icon","clover:back","ui-ripple","","ui-ripple-centered","","ui-ripple-unbounded","",1,"back-button","ui-button",3,"routerLink"],[1,"shop-menu"],["role","menubar"],["role","none",4,"ngIf"],["role","none","class","shop-menu__fabs",3,"bottom",4,"ngIf"],["class","shop-prices",4,"ngIf"],["class","shop-meeting","style","position:relative",4,"ngIf"],["role","none"],["href","#","role","menuitem","ui-ripple","","ui-ripple-centered","",3,"click"],["aria-hidden","true","ui-icon","clover:phone"],["aria-hidden","true","ui-icon","clover:pin"],["aria-hidden","true","ui-icon","clover:share"],["role","none",1,"shop-menu__fabs"],["type","button","ui-ripple","",1,"continue-button","ui-font-weight--bold",3,"ui-ripple-disabled","click"],["aria-hidden","true"],[4,"ngIf"],["aria-hidden","true","class","ui-infinite-spinner",4,"ngIf"],["aria-hidden","true",1,"ui-infinite-spinner"],[1,"shop-prices"],[1,"ui-sr-only"],[1,"shop-prices__category"],[1,"ui-heading-6"],[1,"ui-item-grid"],[1,"ui-item-grid__cell"],["ui-ripple","",1,"shop-prices__item"],[1,"shop-prices__item-name","ui-label-1"],[1,"shop-prices__item-duration","ui-label-2","ui-dark-3"],[1,"shop-prices__item-price","ui-paragraph-2"],["type","checkbox",1,"ui-checkbox","ui-checkbox--circle",3,"checked","change"],["aria-hidden","true","viewBox","0 0 24 24","focusable","false","xmlns","http://www.w3.org/2000/svg"],["fill","none","d","M1.73,12.91 8.1,19.28 22.79,4.59"],["ui-ripple","",1,"ui-item-grid__cell"],[1,"shop-prices__item"],[1,"shop-meeting",2,"position","relative"],[1,"shop-meeting__items"],["class","shop-meeting__item",4,"ngFor","ngForOf"],[1,"shop-meeting__actions"],["ui-ripple","",1,"shop-meeting__action-button",3,"routerLink","click"],["aria-hidden","true","ui-icon","misc:plus_in_circle"],[3,"slots","activatedSlots","suggestedSlot","wide","slotSelected",4,"ngIf"],["class","ui-label-1",4,"ngIf"],["class","shop-meeting__actions",4,"ngIf"],[1,"shop-meeting__item"],[1,"ui-label-1"],[1,"ui-label-2","ui-dark-3"],[1,"ui-paragraph-2"],["type","button","ui-icon","clover:close","ui-ripple","","ui-ripple-centered","",1,"shop-meeting__remove-item-action","ui-label-1",3,"disabled","click"],[3,"slots","activatedSlots","suggestedSlot","wide","slotSelected"],[3,"dateTime"],["aria-hidden","true","ui-icon","clover:calendar"]],template:function(i,s){if(1&i){const o=e.KQA();e.I0R(0,"header",0),e.wVc(1,"baseUrl"),e.I0R(2,"hgroup")(3,"h2",1,2),e.OEk(5,"Woodlands Hills Salon"),e.C$Y(),e.I0R(6,"p",3),e.OEk(7," Pour hommes "),e.C$Y(),e.I0R(8,"p"),e.OEk(9,"Keira throughway \u2022 5.0 Kms \u2022 $$"),e.C$Y(),e.I0R(10,"button",4),e.qCj("click",function(){e.usT(o);const l=e.Gew(12);return e.CGJ(l.setIcon("ionicon:heart"===l.icon?"ionicon:heart--filled":"ionicon:heart"))}),e.wR5(11,"span",5,6),e.I0R(13,"span",3),e.OEk(14,"Favoris"),e.C$Y()()(),e.I0R(15,"nav"),e.wR5(16,"a",7),e.C$Y()(),e.I0R(17,"nav",8)(18,"ul",9),e.yuY(19,Ie,5,0,"li",10)(20,Ee,5,0,"li",10)(21,De,5,0,"li",10)(22,xe,10,13,"li",11),e.C$Y()(),e.yuY(23,Ge,123,32,"section",12)(24,Fe,17,12,"section",13)}if(2&i){const o=e.Gew(4),r=e.Gew(12);e.m4B("background-image",e.g7$(1,11,"/assets/photos/barber_shaves_a_man.jpg","css")),e.E7m("uiAriaLabelledby",o),e.yG2(10),e.e48("aria-label","ionicon:heart"===r.icon?"Cliquer pour mettre l'\xe9tablissement dans vos favoris":"Cliquer pour retirer l'\xe9tablissement de vos favoris"),e.yG2(6),e.E7m("routerLink",s.backUrl),e.yG2(3),e.E7m("ngIf",s.shopStep0),e.yG2(),e.E7m("ngIf",s.shopStep0),e.yG2(),e.E7m("ngIf",s.shopStep0),e.yG2(),e.E7m("ngIf",s.itemsTotal),e.yG2(),e.E7m("ngIf",s.shopStep0),e.yG2(),e.E7m("ngIf",s.shopStep1||s.shopStep2)}},dependencies:[b.u_,b.Iw,F.ER,J.E,H._,y,w.W,P.i],encapsulation:2,data:{animation:[(0,G.SS)(),(0,G.Af)()]},changeDetection:0})}return n})()}}]);