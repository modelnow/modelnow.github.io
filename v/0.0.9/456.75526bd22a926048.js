"use strict";(self.webpackChunk_modelnow_proto=self.webpackChunk_modelnow_proto||[]).push([[456],{7456:(W,r,a)=>{a.r(r),a.d(r,{AppMeetingsPage:()=>J});var c=a(1368),u=a(3364),h=a(5657),p=a(3616),_=a(8548),d=a(8368),y=a(4804),e=a(4496),E=a(4704),M=a(4e3),v=a(8935),m=a(7532),I=a(7040);const{name:X,reducer:Z,selectMeetingState:O,...f}=I.k,R=(0,m.M3)(f.selectEntities,t=>Object.keys(t)),g={selectMeetingState:O,...f,selectEntityIds:R};let G=(()=>{class t{static#e=this._NO_ITEMS=[];constructor(i){this.store=i,this.state=this.store.selectSignal(g.selectMeetingState),this.state$=this.store.select(g.selectMeetingState),this.entities=this.store.selectSignal(g.selectEntities),this.entities$=this.store.select(g.selectEntities),this.entityIds=this.store.selectSignal(g.selectEntityIds),this.entityIds$=this.store.select(g.selectEntityIds)}getEntity(i){return this.state().entities[i]}ofEntity(i){return this.entities$.pipe((0,E.k)(()=>this.getEntity(i)),(0,M.a)())}filterMeetings(i){return Object.values((0,v.h9)(this.entities(),i))}getFavoriteMeetings(){return this.filterMeetings(i=>!!i.favorite)}getPastMeetings(i=Date.now()){return this.filterMeetings(n=>new Date(n.datetime).getTime()<i)}getUpcomingMeetings(i=Date.now()){return this.filterMeetings(n=>new Date(n.datetime).getTime()>=i)}static#t=this.\u0275fac=function(n){return new(n||t)(e.CoB(m.m_))};static#i=this.\u0275prov=e.wxM({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();var T=a(9592);function C(t,s){1&t&&(e.I0R(0,"p"),e.OEk(1," Pas de rendez-vous pass\xe9s. "),e.C$Y())}function $(t,s){1&t&&e.C_f(0)}const l=t=>({meeting:t});function Y(t,s){if(1&t&&(e.I0R(0,"li"),e.yuY(1,$,1,0,"ng-container",12),e.I0R(2,"ul")(3,"li")(4,"button",13),e.OEk(5,"Reprendre RDV"),e.C$Y()()()()),2&t){const i=s.$implicit;e.GaO(3);const n=e.Gew(15);e.yG2(),e.E7m("ngTemplateOutlet",n)("ngTemplateOutletContext",e.S45(2,l,i))}}function k(t,s){if(1&t&&(e.I0R(0,"ul"),e.yuY(1,Y,6,4,"li",11),e.C$Y()),2&t){const i=e.GaO(2);e.yG2(),e.E7m("ngForOf",i.pastMeetings)}}function A(t,s){if(1&t&&(e.I0R(0,"section",0)(1,"h3",8,9),e.OEk(3,"Rendez-vous pass\xe9s"),e.C$Y(),e.yuY(4,C,2,0,"p",10)(5,k,2,1,"ul",10),e.C$Y()),2&t){const i=e.Gew(2),n=e.GaO();e.E7m("uiAriaLabelledby",i),e.yG2(4),e.E7m("ngIf",!n.pastMeetings.length),e.yG2(),e.E7m("ngIf",n.pastMeetings.length)}}function P(t,s){1&t&&(e.I0R(0,"p"),e.OEk(1," Pas de rendez-vous \xe0 venir. "),e.C$Y())}function x(t,s){1&t&&e.C_f(0)}function D(t,s){if(1&t&&(e.I0R(0,"li"),e.yuY(1,x,1,0,"ng-container",12),e.I0R(2,"ul")(3,"li")(4,"button",13),e.OEk(5,"D\xe9placer le RDV"),e.C$Y()(),e.I0R(6,"li")(7,"button",15),e.OEk(8,"Annuler le RDV"),e.C$Y()()()()),2&t){const i=s.$implicit;e.GaO(3);const n=e.Gew(15);e.yG2(),e.E7m("ngTemplateOutlet",n)("ngTemplateOutletContext",e.S45(2,l,i))}}function F(t,s){if(1&t&&(e.I0R(0,"ul"),e.yuY(1,D,9,4,"li",11),e.C$Y()),2&t){const i=e.GaO(2);e.yG2(),e.E7m("ngForOf",i.upcomingMeetings)}}function b(t,s){if(1&t&&(e.I0R(0,"section",0)(1,"h3",8,14),e.OEk(3,"Rendez-vous \xe0 venir"),e.C$Y(),e.yuY(4,P,2,0,"p",10)(5,F,2,1,"ul",10),e.C$Y()),2&t){const i=e.Gew(2),n=e.GaO();e.E7m("uiAriaLabelledby",i),e.yG2(4),e.E7m("ngIf",!n.upcomingMeetings.length),e.yG2(),e.E7m("ngIf",n.upcomingMeetings.length)}}function L(t,s){1&t&&(e.I0R(0,"p"),e.OEk(1," Pas de rendez-vous favoris. "),e.C$Y())}function S(t,s){1&t&&e.C_f(0)}function w(t,s){if(1&t&&(e.I0R(0,"li"),e.yuY(1,S,1,0,"ng-container",12),e.I0R(2,"ul")(3,"li")(4,"button",17),e.OEk(5,"Reprendre rendez-vous"),e.C$Y()()(),e.I0R(6,"ul")(7,"li")(8,"button",13),e.OEk(9,"Reprendre RDV"),e.C$Y()()()()),2&t){const i=s.$implicit;e.GaO(3);const n=e.Gew(15);e.yG2(),e.E7m("ngTemplateOutlet",n)("ngTemplateOutletContext",e.S45(2,l,i))}}function z(t,s){if(1&t&&(e.I0R(0,"ul"),e.yuY(1,w,10,4,"li",11),e.C$Y()),2&t){const i=e.GaO(2);e.yG2(),e.E7m("ngForOf",i.favoriteMeetings)}}function N(t,s){if(1&t&&(e.I0R(0,"section",0)(1,"h3",8,16),e.OEk(3,"Rendez-vous favoris"),e.C$Y(),e.yuY(4,L,2,0,"p",10)(5,z,2,1,"ul",10),e.C$Y()),2&t){const i=e.Gew(2),n=e.GaO();e.E7m("uiAriaLabelledby",i),e.yG2(4),e.E7m("ngIf",!n.favoriteMeetings.length),e.yG2(),e.E7m("ngIf",n.favoriteMeetings.length)}}function U(t,s){1&t&&(e.I0R(0,"span"),e.OEk(1,"Haircut x 1 + Shave x 1"),e.C$Y())}function H(t,s){if(1&t&&(e.I0R(0,"span"),e.OEk(1),e.C$Y()),2&t){const i=e.GaO().meeting,n=e.GaO();e.yG2(),e.CAO("",n.formatMeetingDatetime(i.datetime)," \u2022 ",29*i.items.length,"\u20ac")}}function V(t,s){if(1&t&&(e.I0R(0,"span"),e.OEk(1,"Woodlands Hills Salon"),e.C$Y(),e.OEk(2),e.I0R(3,"span"),e.OEk(4,"Keira throughway \u2022 5.0 Kms"),e.C$Y(),e.OEk(5),e.yuY(6,U,2,0,"span",10),e.OEk(7),e.yuY(8,H,2,2,"span",10)),2&t){const i=s.meeting;e.yG2(2),e.oRS(""," "," "),e.yG2(3),e.oRS(""," "," "),e.yG2(),e.E7m("ngIf",i.items.length),e.yG2(),e.oRS(""," "," "),e.yG2(),e.E7m("ngIf",i.datetime)}}const K=()=>[".","passes"],j=()=>[".","a-venir"],B=()=>[".","favoris"];let J=(()=>{class t{constructor(i,n,o){this.changeDetectorRef=i,this.meetingFacade=n,this.routerFacade=o,this.fakeNow=new Date(2023,9,13,12,0).getTime(),this.meetingsType=this.routerFacade.getRouteDataForKey("meetingsType",0),this.favoriteMeetings=this.meetingFacade.getFavoriteMeetings(),this.pastMeetings=this.meetingFacade.getPastMeetings(this.fakeNow),this.upcomingMeetings=this.meetingFacade.getUpcomingMeetings(this.fakeNow),this.destroyed$=new h.E}ngOnInit(){this.routerFacade.ofRouteDataForKey("meetingsType",0).pipe((0,p.a)(this.destroyed$)).subscribe(n=>{this.meetingsType=n,this.changeDetectorRef.markForCheck()}),this.meetingFacade.entities$.pipe((0,p.a)(this.destroyed$)).subscribe(()=>{this.pastMeetings=this.meetingFacade.getPastMeetings(this.fakeNow),this.upcomingMeetings=this.meetingFacade.getUpcomingMeetings(this.fakeNow),this.changeDetectorRef.markForCheck()})}formatMeetingDatetime(i){return(0,_._m)(new Date(i),"EEEE d LLLL HH:mm")}static#e=this.\u0275fac=function(n){return new(n||t)(e.GI1(e.kD9),e.GI1(G),e.GI1(T.A))};static#t=this.\u0275cmp=e.In1({type:t,selectors:[["app-meetings-page"]],hostAttrs:[1,"app-meetings-page"],standalone:!0,features:[e.UHJ],decls:16,vars:10,consts:[[3,"uiAriaLabelledby"],[1,"ui-heading-5"],["meetingsTitle",""],["aria-label","Rendez-vous pass\xe9s","ui-ripple","","routerLinkActive","active",3,"routerLink"],["aria-label","Rendez-vous \xe0 venir","ui-ripple","","routerLinkActive","active",3,"routerLink"],["aria-label","Rendez-vous favoris","ui-ripple","","routerLinkActive","active",3,"routerLink"],[3,"uiAriaLabelledby",4,"ngIf"],["meetingBaseTemplate",""],[1,"ui-heading-6","ui-sr-only"],["pastMeetingsTitle",""],[4,"ngIf"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["ui-ripple","",1,"ui-button","ui-outline-button--primary"],["upcomingMeetingsTitle",""],["ui-ripple","",1,"ui-button","ui-outline-button--error"],["favoriteMeetingsTitle",""],[1,"ui-button","ui-outline-button--primary"]],template:function(n,o){if(1&n&&(e.I0R(0,"header",0)(1,"h2",1,2),e.OEk(3,"Rendez-vous"),e.C$Y(),e.I0R(4,"nav")(5,"a",3),e.OEk(6,"Pass\xe9s"),e.C$Y(),e.I0R(7,"a",4),e.OEk(8,"\xc0 venir"),e.C$Y(),e.I0R(9,"a",5),e.OEk(10,"Favoris"),e.C$Y()()(),e.yuY(11,A,6,3,"section",6)(12,b,6,3,"section",6)(13,N,6,3,"section",6)(14,V,9,5,"ng-template",null,7,e.gJz)),2&n){const Q=e.Gew(2);e.E7m("uiAriaLabelledby",Q),e.yG2(5),e.E7m("routerLink",e.q4q(7,K)),e.yG2(2),e.E7m("routerLink",e.q4q(8,j)),e.yG2(2),e.E7m("routerLink",e.q4q(9,B)),e.yG2(2),e.E7m("ngIf",1===o.meetingsType),e.yG2(),e.E7m("ngIf",0===o.meetingsType),e.yG2(),e.E7m("ngIf",2===o.meetingsType)}},dependencies:[c.Iw,c.u_,c.XV,u.ER,u.LC,d._,y.i],encapsulation:2,changeDetection:0})}return t})()}}]);